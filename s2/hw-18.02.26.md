# Структура и наполнение базы данных

## city
30 городов России и СНГ.  
Равномерное распределение.

---

## airport
34 аэропорта с реальными IATA-кодами.  
Привязаны к городам.  
Хабы: SVO, DME, VKO, LED — используются чаще в рейсах.

---

## airline
25 авиакомпаний с реальными кодами (SU, S7, TK, EK и др.).  
Равномерное распределение.

---

## aircraft_model
24 модели самолётов с указанием вместимости.  
Равномерное распределение.

---

## aircraft
Около 40 бортов, привязаны к моделям и авиакомпаниям.  
У каждой компании несколько самолётов.

---

## flight_status
9 статусов: Scheduled, Boarding, Departed, In Air, Landed, Arrived, Delayed, Cancelled, Diverted.  
Низкая селективность.

---

## flight_number
200–300 уникальных номеров рейсов.  
Привязаны к аэропортам вылета и прилёта.  
Чаще используются хабы (SVO, DME, LED и др.).

---

## flight
Около 260 000 рейсов.

- Даты равномерно распределены в течение 2024 года.
- Время учитывает пиковые часы (утро и вечер чаще).
- Статусы:
  - Landed / Arrived — 85%
  - Delayed — 8%
  - Cancelled — 4%
  - Остальные — 3%
- Через flight_number хабы встречаются чаще.

---

## client
100 000 клиентов.

- Реальные имена и фамилии.
- Уникальные email, генерируются автоматически.
- Пароль-заглушка password123.
- Высокая кардинальность.
- loyalty_level — уровень лояльности (BASE, SILVER, GOLD, PLATINUM) с перекосом: BASE — 70%, остальные — 30%.
- preferences (JSONB) — настройки клиента (meal, notifications, language), ~15% NULL.

---

## booking_status
6 статусов: Pending, Confirmed, Paid, Cancelled, Completed, Expired.  
Низкая селективность.

---

## booking
Около 260 000 бронирований.

- Даты с учётом сезонности (пик летом, минимум зимой).
- Клиенты распределены неравномерно — есть часто летающие.
- Статусы:
  - Confirmed / Completed — по 35%
  - Pending — 15%
  - Paid — 10%
  - Cancelled — 3%
  - Остальные — 2%
- Стоимость: логнормальное распределение от 3 000 до 150 000 руб.
- notes (TEXT) — заметки к брони, ~15% NULL.
- baggage_info (JSONB) — информация о багаже (bags, weight, sport_equipment), ~20% NULL.

---

## passenger
200 000 пассажиров.

- Имена, фамилии, даты рождения.
- Уникальные паспортные данные.
- Высокая кардинальность.

---

## fare_class
4 класса: Economy, Economy Premium, Business, First Class.  
Низкая селективность.

---

## fare
Тарифы для каждого рейса и класса.

- Economy: 3 000–15 000 руб., мест 50–150
- Economy Premium: 15 000–30 000 руб., мест 20–50
- Business: 30 000–80 000 руб., мест 5–20
- First Class: 80 000–200 000 руб., мест 1–10

---

## ticket
Около 260 000 билетов.

- Номер места уникален в пределах рейса.
- На одно бронирование:
  - 1 билет — 60%
  - 2 билета — 30%
  - 3–4 билета — 10%
- Распределение по классам соответствует тарифам.
- Связь с бронированием, пассажиром, тарифом и рейсом.

---

## payment_method
9 методов: карты, наличные, электронные деньги, перевод, мили, криптовалюта и др.  
Низкая селективность.

---

## payment_status
6 статусов: Pending, Processing, Completed, Failed, Refunded, Cancelled.  
Низкая селективность.

---

## payment
Около 250 000 платежей.

- Методы оплаты:
  - Карты — 65%
  - Наличные — 10%
  - Остальные методы — по 2–3%
- Статус зависит от статуса бронирования:
  - Completed — около 70%
  - Failed, Pending, Refunded — остальное
- Дата платежа — обычно в течение 24 часов после брони.
- 15% бронирований не имеют платежа.
